// prisma/schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Orcamento {
  id               BigInt   @id @default(autoincrement())
  codigo           Int      @map("codigo")
  status           String  @db.Char(1) @map("status")
  unidadenegocioid BigInt  @map("unidadenegocioid")

  unidadeNegocio   UnidadeNegocio @relation(fields: [unidadenegocioid], references: [id])
  itens            ItemOrcamento[]

  @@map("orcamento")
}


model ItemOrcamento {
  id           BigInt   @id @default(autoincrement())
  orcamentoid  BigInt   @map("orcamentoid")
  embalagemid  BigInt   @map("embalagemid")
  quantidade   Decimal  @map("quantidade")
  valortotal   Decimal  @map("valortotal")

  orcamento Orcamento @relation(fields: [orcamentoid], references: [id])
  embalagem Embalagem @relation(fields: [embalagemid], references: [id])

  @@map("itemorcamento")
}


model UnidadeNegocio {
  id        BigInt   @id @default(autoincrement())
  codigo    String?  @map("codigo")

  orcamentos Orcamento[]

  @@map("unidadenegocio")
}


model Embalagem {
  id        BigInt   @id @default(autoincrement())
  descricao String?  @map("descricao")

  itensOrcamento ItemOrcamento[]

  @@map("embalagem")
}
